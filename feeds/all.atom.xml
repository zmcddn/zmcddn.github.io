<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Carson's Tech Hut</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2020-12-09T00:00:00-07:00</updated><entry><title>Display matplotlib image on HTML page using Django</title><link href="/display-matplotlib-image-on-html-page-using-django.html" rel="alternate"></link><published>2020-12-09T00:00:00-07:00</published><updated>2020-12-09T00:00:00-07:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2020-12-09:/display-matplotlib-image-on-html-page-using-django.html</id><summary type="html">&lt;p&gt;A lot of times we use matplotlib to plot images and we would like to display them on a 
HTML page simply for rendering as PDF for download or just for display.&lt;/p&gt;
&lt;p&gt;Fortunately this is possible for django backend, here is an example for plotting a 
horizontal barchart in HTML â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;A lot of times we use matplotlib to plot images and we would like to display them on a 
HTML page simply for rendering as PDF for download or just for display.&lt;/p&gt;
&lt;p&gt;Fortunately this is possible for django backend, here is an example for plotting a 
horizontal barchart in HTML.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;base64&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.figure&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Figure&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.ticker&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;MaxNLocator&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HorizontalBarChart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Plots a horizontal barchat for displaying in html&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="nd"&gt;@staticmethod&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_set_annotation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_bar_width&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Annotate the value of each bar in the barchart&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

        &lt;span class="c1"&gt;# Rectangle widths are already integer-valued but are floating&lt;/span&gt;
        &lt;span class="c1"&gt;# type, so it helps to remove the trailing decimal point and 0 by&lt;/span&gt;
        &lt;span class="c1"&gt;# converting width to int type&lt;/span&gt;
        &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

        &lt;span class="n"&gt;annotation_inside_bar_params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;xytext&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# Horizontal align&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;annotation_to_right_of_bar_params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;xytext&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;ha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# Horizontal align&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;max_bar_width&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="c1"&gt;# Empty plot, default annotation to the right of bar&lt;/span&gt;
            &lt;span class="n"&gt;annotation_params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;annotation_to_right_of_bar_params&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="c1"&gt;# We default all annotations inside the bar&lt;/span&gt;
            &lt;span class="n"&gt;annotation_params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;annotation_inside_bar_params&lt;/span&gt;

            &lt;span class="n"&gt;current_bar_width_percentage&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;max_bar_width&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_bar_width_percentage&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="c1"&gt;# current bar size is smaller than 10% of the longest bar, means that&lt;/span&gt;
                &lt;span class="c1"&gt;# it may not be wide enough to print its value inside&lt;/span&gt;
                &lt;span class="n"&gt;annotation_params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;annotation_to_right_of_bar_params&lt;/span&gt;

        &lt;span class="n"&gt;yloc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
        &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yloc&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;textcoords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;offset points&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;va&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;clip_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;annotation_params&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="nd"&gt;@staticmethod&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_to_data_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;        Create a data url for matplotlib Figure for embed in html&lt;/span&gt;

&lt;span class="sd"&gt;        How to use it:&lt;/span&gt;
&lt;span class="sd"&gt;        In python:&lt;/span&gt;
&lt;span class="sd"&gt;            chart = HorizontalBarChart()._to_data_url(data)&lt;/span&gt;
&lt;span class="sd"&gt;        In html:&lt;/span&gt;
&lt;span class="sd"&gt;            &amp;lt;img src=&amp;quot;{{ chart }}&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="sd"&gt;        &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

        &lt;span class="n"&gt;buf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# Save it to a temporary buffer.&lt;/span&gt;
        &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;base64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;b64encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getbuffer&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ascii&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;data:image/png;base64,{data}&amp;quot;&lt;/span&gt;

    &lt;span class="nd"&gt;@classmethod&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_image_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;with_annotation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Generate a barplot for given data&lt;/span&gt;

&lt;span class="sd"&gt;        :param dict[int] data: input data to plot&lt;/span&gt;
&lt;span class="sd"&gt;        :param str title: title for the chart&lt;/span&gt;
&lt;span class="sd"&gt;        :param bool with_annotation:&lt;/span&gt;
&lt;span class="sd"&gt;            if set, annotate the value of each bar in the chart so its easier to see&lt;/span&gt;
&lt;span class="sd"&gt;            defaults to False&lt;/span&gt;

&lt;span class="sd"&gt;        :return str: data url of the generated barchart, easy to render in html&lt;/span&gt;
&lt;span class="sd"&gt;        &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

        &lt;span class="c1"&gt;# Create a Figure constructor so it saves to in-memory buffers&lt;/span&gt;
        &lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="c1"&gt;# Set temporary plot themes for each plot&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plotting_context&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;talk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  &lt;span class="c1"&gt;# Bigger fonts&lt;/span&gt;
            &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axes_style&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;whitegrid&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  &lt;span class="c1"&gt;# White grid background&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;barplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#2b7bba&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Mono color for bars&lt;/span&gt;

                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="c1"&gt;# Make sure we use integer for axis&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_major_locator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MaxNLocator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;integer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;with_annotation&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;max_bar_width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;max&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;patches&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

            &lt;span class="c1"&gt;# Annotation the value of each bar for a better presentation&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;patches&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_set_annotation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_bar_width&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_tight_layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tight&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# less white margines&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_to_data_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here is the html template code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;picture&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ your_generated_chart }}&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;width: 100%;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;picture&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The key implementations here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Save the image into &lt;code&gt;base64&lt;/code&gt; io stream so its in the memory buffer instead of on disk&lt;/li&gt;
&lt;li&gt;Use the &lt;code&gt;Figure&lt;/code&gt; object in Matplotlib so its thread safe&lt;/li&gt;
&lt;li&gt;I've also implemented an auto annotate function&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Reference:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://matplotlib.org/2.0.0/examples/pylab_examples/barchart_demo2.html"&gt;Matplotlib Barchart demo 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://matplotlib.org/faq/howto_faq.html#how-to-use-matplotlib-in-a-web-application-server"&gt;How to use Matplotlib in a web application server&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Matplotlib"></category><category term="Django"></category><category term="Web development"></category><category term="PDF"></category></entry><entry><title>How to fix Manjaro you are unable to boot, you need to load kernel first</title><link href="/how-to-fix-manjaro-you-are-unable-to-boot-you-need-to-load-kernel-first.html" rel="alternate"></link><published>2020-12-02T00:00:00-07:00</published><updated>2020-12-02T00:00:00-07:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2020-12-02:/how-to-fix-manjaro-you-are-unable-to-boot-you-need-to-load-kernel-first.html</id><summary type="html">&lt;p&gt;I have a due boot system and one day after I updated my Manjaro system, I got this error:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;file â€˜/boot/vmlinuz-5.7-x86_64â€™ not found&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;you need to load the kernel first.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;After some research, here I found the solution how to fix it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure internet is connected&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo â€¦&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;I have a due boot system and one day after I updated my Manjaro system, I got this error:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;file â€˜/boot/vmlinuz-5.7-x86_64â€™ not found&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;you need to load the kernel first.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;After some research, here I found the solution how to fix it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure internet is connected&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo manjaro-chroot -a&lt;/code&gt;  (type 1 if only one line appears)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pacman-mirrors -f &amp;amp;&amp;amp; pacman -Syyu&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mkinitcpio -P&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;update-grub&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The error was ultimately due to the fact that the Pacman has some change in the source code so if the IOS installation version is lower than 18.1.5 this error could happen.&lt;/p&gt;
&lt;p&gt;Reference:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://laplacetw.github.io/linux-need-to-load-kernel-first/"&gt;Manjaro:You need to load kernel first&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://forum.manjaro.org/t/manjaro-unable-to-boot-error-file-boot-vmlinuz-5-7-x86-64-not-found/18445"&gt;Manjaro unable to boot (error: file '/boot/vmlinuz-5.7-x86_64' not found')&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Linux"></category><category term="Arch Linux"></category><category term="Manjaro"></category><category term="Boot"></category></entry><entry><title>How to setup Github Blog via Pelican</title><link href="/how-to-setup-github-blog-via-pelican.html" rel="alternate"></link><published>2020-04-12T00:00:00-06:00</published><updated>2020-04-12T00:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2020-04-12:/how-to-setup-github-blog-via-pelican.html</id><summary type="html">&lt;p&gt;There are many ways to setup a Github blog, but since I love Python I think it makes sense to use Pelican, which is a Static Site Generator, Powered by Python. &lt;/p&gt;
&lt;h2&gt;Set up environment&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Create a blog directory for all blog content and styles: &lt;code&gt;mkdir &amp;lt;blogname&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Go into the blog â€¦&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;There are many ways to setup a Github blog, but since I love Python I think it makes sense to use Pelican, which is a Static Site Generator, Powered by Python. &lt;/p&gt;
&lt;h2&gt;Set up environment&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Create a blog directory for all blog content and styles: &lt;code&gt;mkdir &amp;lt;blogname&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Go into the blog directory: &lt;code&gt;cd &amp;lt;blogname&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create a file called &lt;code&gt;.gitignore&lt;/code&gt;, and add in the content from &lt;a href="https://github.com/github/gitignore/blob/master/Python.gitignore"&gt;this file&lt;/a&gt;. The &lt;code&gt;.gitignore&lt;/code&gt; file is used to omitted certain dynamic compiled file when commit your changes.&lt;/li&gt;
&lt;li&gt;Install and activate a virtual environment. You could use Anaconda, pipenv, or virtualenv. You can see my tutorials for &lt;a href="https://zmcddn.github.io/the-ultimate-guide-to-setup-multiple-python-environment-with-anaconda-and-sublime-text.html"&gt;Anaconda&lt;/a&gt;, &lt;a href="https://zmcddn.github.io/pipenv-tutorial-the-official-package-control-for-pyton.html"&gt;pipenv&lt;/a&gt;, or &lt;a href="https://zmcddn.github.io/setup-virtualenv-for-any-project.html"&gt;virtualenv&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a file called &lt;code&gt;requirements.txt&lt;/code&gt; in the blog directory with the following content: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Markdown==3.2.1
pelican==3.7.1
jupyter&amp;gt;=1.0
ipython&amp;gt;=4.0
nbconvert&amp;gt;=4.0
beautifulsoup4
ghp-import==0.4.1
matplotlib==1.5.1
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure your virtual environment is activated and run &lt;code&gt;pip install -r requirements.txt&lt;/code&gt; in the blog directory to install all of the required packages. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Create blog&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Run &lt;code&gt;pelican-quickstart&lt;/code&gt; in the blog directory and follow the interactive setup sequence.&lt;/li&gt;
&lt;li&gt;Feel free to hit the &lt;code&gt;Enter&lt;/code&gt; key to accept the default values except for the following lines:&lt;ul&gt;
&lt;li&gt;the title of the website&lt;/li&gt;
&lt;li&gt;the author of the website&lt;/li&gt;
&lt;li&gt;n for the URL prefix&lt;/li&gt;
&lt;li&gt;timezone&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Install Jupyter plugin for Pelican&lt;/h2&gt;
&lt;p&gt;There are a lot of plugins that are super handy for Pelican, and jupyter plugin is definitely one among them. Follow the steps below to install the plugin:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run &lt;code&gt;git init&lt;/code&gt; in the blog folder&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mkdir plugins&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git submodule add git://github.com/danielfrg/pelican-ipynb.git plugins/ipynb&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open &lt;code&gt;pelicanconf.py&lt;/code&gt; and add the following lines:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;MARKUP = (&amp;#39;md&amp;#39;, &amp;#39;ipynb&amp;#39;)
PLUGIN_PATHS = [&amp;#39;./plugins&amp;#39;]
PLUGINS = [&amp;#39;ipynb.markup&amp;#39;]
IGNORE_FILES = [&amp;#39;.ipynb_checkpoints&amp;#39;]
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;The first 3 lines of code tell Pelican to activate the plugin when generating HTML and the last line fixes a common error 'Could not find metadata...'&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There is also a github repo that has all the available plugins for Pelican and you can find it &lt;a href="https://github.com/getpelican/pelican-plugins"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Create posts from Jupyter Notebook&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Write anything (code or markdown cells) in a jupyter notebook&lt;/li&gt;
&lt;li&gt;Copy the file into the &lt;strong&gt;content directory&lt;/strong&gt; in the blog directory&lt;/li&gt;
&lt;li&gt;Create a &lt;strong&gt;txt file&lt;/strong&gt; with the same name of your notebook file and an &lt;code&gt;.ipynb-meta&lt;/code&gt; extension. &lt;ul&gt;
&lt;li&gt;For example: &lt;code&gt;first-post.ipynb-meta&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Its content should be formatted as follows:&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;First&lt;/span&gt; &lt;span class="n"&gt;Post&lt;/span&gt;
&lt;span class="n"&gt;Slug&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt; 
&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2020&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;
&lt;span class="n"&gt;Category&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;posts&lt;/span&gt; 
&lt;span class="n"&gt;Tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tutorial&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pelican&lt;/span&gt; 
&lt;span class="n"&gt;Author&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Carson&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Summary&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;my&lt;/span&gt; &lt;span class="n"&gt;first&lt;/span&gt; &lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Create a GitHub Page&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Log in/Sign up for GitHub&lt;/li&gt;
&lt;li&gt;Create a repo in your account and name it &lt;code&gt;&amp;lt;username&amp;gt;.github.io&lt;/code&gt;. &lt;ul&gt;
&lt;li&gt;Substitute &lt;code&gt;&amp;lt;username&amp;gt;&lt;/code&gt; with your GitHub username.&lt;/li&gt;
&lt;li&gt;For example, mine is &lt;code&gt;zmcddn&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;Refer to this &lt;a href="https://help.github.com/en/github/getting-started-with-github/create-a-repo"&gt;official guide&lt;/a&gt; for repo creation&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; to the blog directory and run &lt;code&gt;git remote add origin git@github.com:&amp;lt;username&amp;gt;/&amp;lt;username&amp;gt;.github.io.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Set &lt;code&gt;SITEURL&lt;/code&gt; in &lt;code&gt;publishconf.py&lt;/code&gt; to &lt;code&gt;http://&amp;lt;username&amp;gt;.github.io&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;For example, mine is &lt;code&gt;https://zmcddn.github.io&lt;/code&gt; (remember to remove the trailing slash if there is one)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Pick a theme&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Choose a theme &lt;a href="http://www.pelicanthemes.com/"&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Go to the blog root folder (i.e. &lt;code&gt;&amp;lt;blogname&amp;gt;&lt;/code&gt; folder) and create a theme folder through &lt;code&gt;mkdir theme&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd theme&lt;/code&gt; and &lt;code&gt;git clone --recursive https://github.com/getpelican/pelican-themes pelican-themes&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Open the &lt;code&gt;pelicanconf.py&lt;/code&gt; and add this line: &lt;code&gt;THEME = '&amp;lt;path_to_chosen_theme&amp;gt;'&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;For example, &lt;code&gt;theme/pelican-themes/tuxlite_tbs&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; that once you've chosen your theme, you have to click into the theme page to see how the theme is setup, coz it might need some &lt;em&gt;special configuration&lt;/em&gt; and &lt;em&gt;cannot&lt;/em&gt; be used directly out of box&lt;/p&gt;
&lt;h2&gt;Run the blog locally to see what it looks like&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Go to blog output directory: &lt;code&gt;cd &amp;lt;blogname&amp;gt;\output&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;python -m pelican.server&lt;/code&gt; to spin up the server&lt;/li&gt;
&lt;li&gt;Open up you browser (i.e. Chrome) and type in &lt;code&gt;http://localhost:8000/&lt;/code&gt;, then you should see you blog&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you would like to see theme change or how your new article looks like,  each time you've changed anything you could run the following steps to see it locally:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Go to blog directory: &lt;code&gt;cd &amp;lt;blogname&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;pelican content -s publishconf.py&lt;/code&gt; to create html files&lt;/li&gt;
&lt;li&gt;Go to the output directory &lt;code&gt;cd output&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RUn &lt;code&gt;python -m pelican.server&lt;/code&gt; to spin up the server and you can see it in your browser at &lt;code&gt;http://localhost:8000/&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Publish posts&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Go to blog directory: &lt;code&gt;cd &amp;lt;blogname&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create html from notebook files: &lt;code&gt;pelican content&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Use correct settings for deployment: &lt;code&gt;pelican content -s publishconf.py&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Import everything in the output folder to the master branch: &lt;code&gt;ghp-import output -b master&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Push content to GitHub Pages: &lt;code&gt;git push origin master&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the future, make sure&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pelican virtual environment is &lt;strong&gt;activated&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;notebook file containing new post is moved into &lt;strong&gt;content directory&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;corresponding &lt;strong&gt;ipynb-meta file&lt;/strong&gt; has been created&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and then repeat the 5 steps above to publish new posts.&lt;/p&gt;
&lt;h2&gt;A bit more in-depth about the overall setup&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This tutorial provides a ste-by-step guide to setup a Github blog via Pelican&lt;/li&gt;
&lt;li&gt;The package &lt;code&gt;ghp-import&lt;/code&gt; and command &lt;code&gt;ghp-import output -b master&lt;/code&gt; is used to push static blog pages to the &lt;code&gt;github.io&lt;/code&gt; site so its super easy to setup&lt;ul&gt;
&lt;li&gt;However, if you run &lt;code&gt;git status&lt;/code&gt; in your blog directory, you'll see many uncommitted files since &lt;code&gt;ghp-import&lt;/code&gt; doesn't work exactly the same as &lt;code&gt;git commit&lt;/code&gt; &lt;ul&gt;
&lt;li&gt;Thus you should be very careful with your blog directory and don't use any reset command (I learned it the hard way ...)&lt;/li&gt;
&lt;li&gt;A better way is to setup your blog project in another private github repo and use the normal git commit workflow to catch any changes&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Pelican uses Jinja templates so all Jinja tags can be used in the templates&lt;/li&gt;
&lt;li&gt;How Pelican works is that all your blog articles are stored in the &lt;code&gt;content&lt;/code&gt; folder and once you run &lt;code&gt;pelican content&lt;/code&gt; it will generate static pages and store them in the &lt;code&gt;output&lt;/code&gt; directory, which is used (and pushed) to &lt;code&gt;github.io&lt;/code&gt; for display&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Action&lt;/th&gt;
&lt;th align="left"&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Run local&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;python -m pelican.server&lt;/code&gt; in &lt;strong&gt;output&lt;/strong&gt; folder&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;create HTML&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;pelican content&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Setup deployment&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;pelican content -s publishconf.py&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Setup import for github&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;ghp-import output -b master&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Push to github&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;git push origin master&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://shaynemei.github.io/hackore/how_to_pelican.html#Pick-a-theme"&gt;How to Publish a Pelican Blog via GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.dataquest.io/blog/how-to-setup-a-data-science-blog/"&gt;Building a Data Science Blog for Your Portfolio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Python"></category><category term="Pelican"></category><category term="Blog"></category><category term="Github"></category></entry><entry><title>Pipenv Tutorial - the official package control for python</title><link href="/pipenv-tutorial-the-official-package-control-for-python.html" rel="alternate"></link><published>2018-10-10T00:00:00-06:00</published><updated>2018-10-10T00:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-10-10:/pipenv-tutorial-the-official-package-control-for-python.html</id><summary type="html">&lt;h2&gt;Why use Pipenv:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pipenv is essentially a combination of pip and virtualenv (i.e. makes virtual environment), but with better version control&lt;/li&gt;
&lt;li&gt;It solves the version conflict for packages and sub-dependencies&lt;/li&gt;
&lt;li&gt;It could automatically install the latest package/dependency that meet all the requirements&lt;/li&gt;
&lt;li&gt;It is the new &lt;strong&gt;STANDARD&lt;/strong&gt; for â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Why use Pipenv:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pipenv is essentially a combination of pip and virtualenv (i.e. makes virtual environment), but with better version control&lt;/li&gt;
&lt;li&gt;It solves the version conflict for packages and sub-dependencies&lt;/li&gt;
&lt;li&gt;It could automatically install the latest package/dependency that meet all the requirements&lt;/li&gt;
&lt;li&gt;It is the new &lt;strong&gt;STANDARD&lt;/strong&gt; for python packages and is &lt;strong&gt;OFFICIALLY&lt;/strong&gt; used&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How to use it&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Installation: &lt;code&gt;pip install pipenv&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;After it is installed, use &lt;code&gt;pipenv&lt;/code&gt; instead of &lt;code&gt;pip&lt;/code&gt; in the future for any package install&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create/Enter virtual environment: &lt;code&gt;pipenv shell&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This will create a virtual environment if one doesnâ€™t already exist in a default location.&lt;/li&gt;
&lt;li&gt;Here is &lt;a href="https://pipenv.readthedocs.io/en/latest/advanced/#configuration-with-environment-variables"&gt;a list of environment variable&lt;/a&gt; to setup in order to change the default behavior&lt;/li&gt;
&lt;li&gt;You can force the creation of a Python 2 or 3 environment with the arguments &lt;code&gt;--two&lt;/code&gt; and &lt;code&gt;--three&lt;/code&gt; respectively.&lt;ul&gt;
&lt;li&gt;More specific version can be specified as &lt;code&gt;-python 3.6&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Quit virtual environment: &lt;code&gt;ctrl + D&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install package: same as using &lt;code&gt;pip&lt;/code&gt;, but use &lt;code&gt;pipenv&lt;/code&gt; instead&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;After the installation, two files are generated: &lt;code&gt;Pipfile&lt;/code&gt; and &lt;code&gt;Pipfile.lock&lt;/code&gt;, which are used for package version control&lt;/li&gt;
&lt;li&gt;If the package cannot be installed due to package conflict, use the &lt;code&gt;--skip-lock&lt;/code&gt; argument to skip the package version lock.&lt;ul&gt;
&lt;li&gt;For example, &lt;code&gt;pipenv install django --skip-lock&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install from version control system (i.e. github): &lt;code&gt;pipenv install -e git+https://github.com/requests/requests.git#egg=requests&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install package for different environment (i.e. dev environment): &lt;code&gt;pipenv install pytest --dev&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Providing the &lt;code&gt;--dev&lt;/code&gt; argument will put the dependency in a special &lt;code&gt;[dev-packages]&lt;/code&gt; location in the &lt;code&gt;Pipfile&lt;/code&gt;. These development packages only get installed if you specify the &lt;code&gt;--dev&lt;/code&gt; argument with &lt;code&gt;pipenv install&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The different sections separate dependencies needed only for development from ones needed for the base code to actually work.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lock the environment for production: &lt;code&gt;pipenv lock&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This will create/update your Pipfile.lock, which youâ€™ll &lt;strong&gt;never&lt;/strong&gt; need to (and are never meant to) edit manually. You should always use the generated file.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the environment in production: &lt;code&gt;pipenv install --ignore-pipfile&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This tells Pipenv to ignore the &lt;code&gt;Pipfile&lt;/code&gt; for installation and use whatâ€™s in the &lt;code&gt;Pipfile.lock&lt;/code&gt;. &lt;/li&gt;
&lt;li&gt;The lock file enables deterministic builds by taking a snapshot of all the versions of packages in an environment (similar to the result of a &lt;code&gt;pip freeze&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Setup the development environment: &lt;code&gt;pipenv install --dev&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This installs all the dependencies needed for development, which includes both the regular dependencies and those you specified with the &lt;code&gt;--dev&lt;/code&gt; argument during install.&lt;/li&gt;
&lt;li&gt;When an exact version isnâ€™t specified in the Pipfile, the install command gives the opportunity for dependencies (and sub-dependencies) to update their versions.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pipenvâ€™s Dependency Resolution Approach&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pipenv will attempt to install sub-dependencies that satisfy all the requirements from your core dependencies.&lt;/li&gt;
&lt;li&gt;If there are conflicting dependencies, pipenv will not be able to create a lock file and wil output an error&lt;/li&gt;
&lt;li&gt;Show dependency graph for top-level dependencies and their sub-dependencies: &lt;code&gt;pipenv graph&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Show dependency graph for the sub-dependencies with the parent: &lt;code&gt;pipenv graph --reverse&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The Pipfile&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Pipfile&lt;/code&gt; intends to replace &lt;code&gt;requirements.txt&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://packaging.python.org/tutorials/managing-dependencies/#managing-dependencies"&gt;Pipenv is the official package management tool recommended by Python itself.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You shouldnâ€™t have any sub-dependencies in your Pipfile.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should only include the packages you actually import and use. Pipenv will install the dependencies automatically.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The Pipfile.lock&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This file enables deterministic builds by specifying the exact requirements for reproducing an environment.&lt;/li&gt;
&lt;li&gt;It contains exact versions for packages and hashes to support more secure verification.&lt;/li&gt;
&lt;li&gt;Its in &lt;code&gt;JSON&lt;/code&gt; format&lt;/li&gt;
&lt;li&gt;You should &lt;strong&gt;never&lt;/strong&gt; change this file by hand.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pipenv Extra Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Open a third-party package in your default editor: &lt;code&gt;pipenv open flask&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This will open the &lt;code&gt;flask&lt;/code&gt; package in the default editor&lt;/li&gt;
&lt;li&gt;You can specify a program with an &lt;code&gt;EDITOR&lt;/code&gt; environmental variable.&lt;ul&gt;
&lt;li&gt;i.e. &lt;code&gt;EDITOR=subl&lt;/code&gt; for sublime text&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run a command in the virtual environment without launching a shell: &lt;code&gt;pipenv run &amp;lt;insert command here&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check for security vulnerabilities: &lt;code&gt;pipenv check&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Uninstall a package: &lt;code&gt;pipenv uninstall numpy&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Wipe all the installed packages from virtual environment: &lt;code&gt;pipenv uninstall --all&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can replace &lt;code&gt;--all&lt;/code&gt; with &lt;code&gt;--all-dev&lt;/code&gt; to just remove dev packages.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pipenv supports the automatic loading of environmental variables when a &lt;code&gt;.env&lt;/code&gt; file exists in the top-level directory. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you pipenv shell to open the virtual environment, it loads your environmental variables from the file. &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To find out where your virtual environment is: &lt;code&gt;pipenv --venv&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To find out where your project home is: &lt;code&gt;pipenv --where&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generate requirements.txt file from Pipfile:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pipenv lock -r &amp;gt; requirements.txt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pipenv lock -r -d &amp;gt; dev-requirements.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What if you already have a requirements.txt file&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pipenv install&lt;/code&gt; should automatically detect the &lt;code&gt;requirements.txt&lt;/code&gt; and convert it to a &lt;code&gt;Pipfile&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should change Pipfile to only specify exact versions if &lt;code&gt;requirements.txt&lt;/code&gt; file uses exact versions&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If things break because of a dependency:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Update code to function with the new version of the dependency.&lt;ul&gt;
&lt;li&gt;If backward compatibility with previous versions of the dependency isnâ€™t possible, you have to bump the required version in Pipfile like &lt;code&gt;numpy = "&amp;gt;=1.15"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Restrict the version of the dependency in the Pipfile to be &amp;lt; the version that just broke your code: &lt;code&gt;numpy = "&amp;gt;=1.14.1,&amp;lt;1.15"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You could just install from the requirement file as usual: &lt;code&gt;pipenv install -r requirements.txt&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you have a dev version or something similar, you can add the &lt;code&gt;--dev&lt;/code&gt; argument as follows: &lt;code&gt;pipenv install -r dev-requirements.txt --dev&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Work flow for any project&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Get pipenv: &lt;code&gt;pip install pipenv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create a virtual environment: &lt;code&gt;pipenv shell&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Setup local development: &lt;code&gt;pipenv install --dev&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Work on the code, use version control such as &lt;code&gt;git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;After done development, lock the environment: &lt;code&gt;pipenv lock&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;When finished working, quit environment: &lt;code&gt;ctrl + D&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Setup production: &lt;code&gt;pipenv install --ignore-pipfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Repeate steps 3-6 for development&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://realpython.com/pipenv-guide/"&gt;Pipenv: A Guide to the New Python Packaging Tool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pipenv.readthedocs.io/en/latest/basics/"&gt;Basic Usage of Pipenv&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://feici02.github.io/2017/09/24/pipenv-cheatsheet.html"&gt;Pipenv Cheatsheet | feici02â€™s tidbits&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Python"></category><category term="Pipenv"></category><category term="Virtualenv"></category><category term="setup"></category></entry><entry><title>Work with timezone effectively</title><link href="/work-with-timezone-effectively.html" rel="alternate"></link><published>2018-07-10T20:00:00-06:00</published><updated>2018-07-10T20:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-07-10:/work-with-timezone-effectively.html</id><summary type="html">&lt;p&gt;A tutorial shows you how to work with timezone in python.&lt;/p&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Timezone can bring a lot headaches when programming.&lt;br&gt;
Luckly our peers have written many great libraries that we can use.&lt;br&gt;
Here is a tutorial on how to deal with timezone in python and Django.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="pytz-package"&gt;pytz package&lt;a class="anchor-link" href="#pytz-package"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;pytc is a timezone definition package, and it is very powerful dealing with tiemzones.&lt;/p&gt;
&lt;p&gt;you can install it through &lt;code&gt;pip&lt;/code&gt;:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pytz&lt;/span&gt; &lt;span class="c1"&gt;# in python environment&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;
The following command must be run outside of the IPython shell:

    $ pip install pytz # in python environment

The Python package manager (pip) can only be used from outside of IPython.
Please reissue the `pip` command in a separate terminal or command prompt.

See the Python documentation for more informations on how to install packages:

    https://docs.python.org/3/installing/
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Add-time-zone-information-to-a-naive-datetime-object"&gt;Add time zone information to a naive datetime object&lt;a class="anchor-link" href="#Add-time-zone-information-to-a-naive-datetime-object"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;

&lt;span class="n"&gt;date_str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;2009-05-05 22:28:15&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;datetime_obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;datetime_obj_utc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tzinfo&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datetime_obj_utc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S %Z%z&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2009-05-05 22:28:15 UTC+0000
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Add-non-UTC-time-zone-information-to-a-naive-datetime-object"&gt;Add non-UTC time zone information to a naive datetime object&lt;a class="anchor-link" href="#Add-non-UTC-time-zone-information-to-a-naive-datetime-object"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;strong&gt;ATTENTION:&lt;/strong&gt; &lt;code&gt;datetime.replace()&lt;/code&gt; does not handle daylight savings time correctly.&lt;br&gt;
The &lt;strong&gt;correct&lt;/strong&gt; way is to use &lt;code&gt;timezone.localize()&lt;/code&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;

&lt;span class="n"&gt;date_str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;2014-05-28 22:28:15&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;datetime_obj_naive&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Wrong way!&lt;/span&gt;
&lt;span class="n"&gt;datetime_obj_pacific&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime_obj_naive&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tzinfo&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;US/Pacific&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datetime_obj_pacific&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S %Z%z&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Right way!&lt;/span&gt;
&lt;span class="n"&gt;datetime_obj_pacific&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;US/Pacific&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;localize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datetime_obj_naive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datetime_obj_pacific&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S %Z%z&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2014-05-28 22:28:15 LMT-0753
2014-05-28 22:28:15 PDT-0700
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Convert-time-zones"&gt;Convert time zones&lt;a class="anchor-link" href="#Convert-time-zones"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Use &lt;code&gt;datetime.astimezone(tz)&lt;/code&gt; to convert timezone&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;

&lt;span class="n"&gt;fmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %H:%M:%S %Z%z&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Current time in UTC&lt;/span&gt;
&lt;span class="n"&gt;now_utc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;now_utc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Convert to US/Pacific time zone&lt;/span&gt;
&lt;span class="n"&gt;now_pacific&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;now_utc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astimezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;US/Pacific&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;now_pacific&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Convert to Europe/Berlin time zone&lt;/span&gt;
&lt;span class="n"&gt;now_berlin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;now_pacific&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astimezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Europe/Berlin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;now_berlin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2018-11-12 06:02:09 UTC+0000
2018-11-11 22:02:09 PST-0800
2018-11-12 07:02:09 CET+0100
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="List-timezones"&gt;List timezones&lt;a class="anchor-link" href="#List-timezones"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There are 593 time zones included in the current pytz version.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Check pytz version&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pytz&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__version__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2017.2
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Check how many timezonmes&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;all_timezones&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;all_timezones&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;593
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Print all the timezone in US&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;zone&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;all_timezones&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;US&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;zone&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;zone&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;US/Alaska
US/Aleutian
US/Arizona
US/Central
US/East-Indiana
US/Eastern
US/Hawaii
US/Indiana-Starke
US/Michigan
US/Mountain
US/Pacific
US/Pacific-New
US/Samoa
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; all the above content is referenced from &lt;a href="https://www.saltycrane.com/blog/2009/05/converting-time-zones-datetime-objects-python/"&gt;Converting time zones for datetime objects in Python - SaltyCrane Blog&lt;/a&gt; with slight modification&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Deal-with-teimzone-format-in-windows-registry"&gt;Deal with teimzone format in windows registry&lt;a class="anchor-link" href="#Deal-with-teimzone-format-in-windows-registry"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Some APIs/packages using timezone farmat as imported from &lt;code&gt;Windows Registry&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;I don't really have a good method to deal with it, except using a big timezone dictionary to map it&lt;/li&gt;
&lt;li&gt;This is inspired by this post: &lt;a href="https://stackoverflow.com/questions/16156597/how-can-i-convert-windows-timezones-to-timezones-pytz-understands#answer-16157049"&gt;python - How can I convert windows timezones to timezones pytz understands? - Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# A big dictionary mapping windows registry timezone format &lt;/span&gt;
&lt;span class="c1"&gt;# to the format readable by python&lt;/span&gt;
&lt;span class="n"&gt;TIMEZONES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;AUSCENTRALSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Darwin&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;AUSEASTERNSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Sydney&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;AFGHANISTANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Kabul&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ALASKANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Anchorage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ARABSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Riyadh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ARABIANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Dubai&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ARABICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Baghdad&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ARGENTINASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Buenos_Aires&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ATLANTICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Halifax&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;AZERBAIJANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Baku&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;AZORESSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Atlantic/Azores&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;BAHIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Bahia&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;BANGLADESHSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Dhaka&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;BELARUSSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Minsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CANADACENTRALSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Regina&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CAPEVERDESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Atlantic/Cape_Verde&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CAUCASUSSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Yerevan&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENAUSTRALIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Adelaide&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALAMERICASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Guatemala&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALASIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Almaty&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALBRAZILIANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Cuiaba&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALEUROPESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Budapest&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALEUROPEANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Warsaw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALPACIFICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Guadalcanal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Chicago&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CENTRALSTANDARDTIME(MEXICO)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Mexico_City&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;CHINASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Shanghai&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;DATELINESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT+12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EAFRICASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Nairobi&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EAUSTRALIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Brisbane&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EEUROPESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Chisinau&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ESOUTHAMERICASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Sao_Paulo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EASTERNSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/New_York&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EGYPTSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Cairo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;EKATERINBURGSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Yekaterinburg&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;FLESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Kiev&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;FIJISTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Fiji&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;GMTSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/London&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;GTBSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Bucharest&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;GEORGIANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Tbilisi&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;GREENLANDSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Godthab&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;GREENWICHSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Atlantic/Reykjavik&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;HAWAIIANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Honolulu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;INDIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Calcutta&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;IRANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Tehran&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ISRAELSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Jerusalem&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;JORDANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Amman&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;KALININGRADSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Kaliningrad&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;KAMCHATKASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Fiji&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# this timezone is UTC+12&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;KOREASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Seoul&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;LIBYASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Tripoli&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;LINEISLANDSSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Kiritimati&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MAGADANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Magadan&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MAURITIUSSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Indian/Mauritius&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MIDATLANTICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT+2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# this timezone is UTC-2&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MIDDLEEASTSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Beirut&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MONTEVIDEOSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Montevideo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MOROCCOSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Casablanca&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MOUNTAINSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Denver&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MOUNTAINSTANDARDTIME(MEXICO)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Chihuahua&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;MYANMARSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Rangoon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NCENTRALASIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Novosibirsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NAMIBIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Windhoek&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NEPALSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Katmandu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NEWZEALANDSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Auckland&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NEWFOUNDLANDSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/St_Johns&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NORTHASIAEASTSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Irkutsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;NORTHASIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Krasnoyarsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;PACIFICSASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Santiago&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;PACIFICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Los_Angeles&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;PACIFICSTANDARDTIME(MEXICO)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Tijuana&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;PAKISTANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Karachi&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;PARAGUAYSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Asuncion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ROMANCESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Paris&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;RUSSIATIMEZONE10&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Srednekolymsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;RUSSIATIMEZONE11&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Kamchatka&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;RUSSIATIMEZONE3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Samara&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;RUSSIANSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Moscow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SAEASTERNSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Cayenne&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SAPACIFICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Bogota&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SAWESTERNSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/La_Paz&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SEASIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Bangkok&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SAMOASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Apia&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SINGAPORESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Singapore&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SOUTHAFRICASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Johannesburg&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SRILANKASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Colombo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;SYRIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Damascus&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;TAIPEISTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Taipei&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;TASMANIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Hobart&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;TOKYOSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Tokyo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;TONGASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Tongatapu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;TURKEYSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Istanbul&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;USEASTERNSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Indianapolis&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;USMOUNTAINSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Phoenix&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;UTC&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;UTC+12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT-12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;UTC02&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT+2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;UTC11&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Etc/GMT+11&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ULAANBAATARSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Ulaanbaatar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;VENEZUELASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;America/Caracas&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;VLADIVOSTOKSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Vladivostok&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;WAUSTRALIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Australia/Perth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;WCENTRALAFRICASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Africa/Lagos&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;WEUROPESTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Europe/Berlin&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;WESTASIASTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Tashkent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;WESTPACIFICSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Pacific/Port_Moresby&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;YAKUTSKSTANDARDTIME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Asia/Yakutsk&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;tz&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;all_timezones_set&lt;/span&gt;

&lt;span class="n"&gt;raw_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;2018-09-17+06:30&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# test timezone&lt;/span&gt;

&lt;span class="c1"&gt;# Parse the raw date string&lt;/span&gt;
&lt;span class="n"&gt;utc_offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;raw_date&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;minutes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;raw_date&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Use the first timezone info returned&lt;/span&gt;
&lt;span class="n"&gt;_timezone_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;_tz&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zone&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;_tz&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_timezones_set&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astimezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_tz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utcoffset&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;utc_offset&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Processed timezone is:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_timezone_info&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Get the correct timezone with raw date&lt;/span&gt;
&lt;span class="n"&gt;date_without_timezone&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;raw_date&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_without_timezone&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;date_with_timezone&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_timezone_info&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;localize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_without_timezone&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_with_timezone&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date_with_timezone&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Processed timezone is: Indian/Cocos
2018-09-17 00:00:00
2018-09-17 00:00:00+06:30 &amp;lt;class &amp;#39;datetime.datetime&amp;#39;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Lets look closer at these two dates&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;date_without_timezone&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;datetime.datetime(2018, 9, 17, 0, 0)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;date_with_timezone&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[11]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;datetime.datetime(2018, 9, 17, 0, 0, tzinfo=&amp;lt;DstTzInfo &amp;#39;Indian/Cocos&amp;#39; +0630+6:30:00 STD&amp;gt;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
 


&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="python"></category><category term="timezone"></category></entry><entry><title>Setup Virtualenv for Any Project</title><link href="/setup-virtualenv-for-any-project.html" rel="alternate"></link><published>2018-07-04T00:00:00-06:00</published><updated>2018-07-04T00:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-07-04:/setup-virtualenv-for-any-project.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;Virtualenv is a very handy tool for creating separate virtual environments for python projects.&lt;/li&gt;
&lt;li&gt;It is essential and probably mandatory in many cases to use Virtualenv or Virtualenv-like tools (i.e. Anaconda, Pipenv) to run a python project.&lt;/li&gt;
&lt;li&gt;In this tutorial, I'll show you how to create a virtualenv for â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;Virtualenv is a very handy tool for creating separate virtual environments for python projects.&lt;/li&gt;
&lt;li&gt;It is essential and probably mandatory in many cases to use Virtualenv or Virtualenv-like tools (i.e. Anaconda, Pipenv) to run a python project.&lt;/li&gt;
&lt;li&gt;In this tutorial, I'll show you how to create a virtualenv for a python project step-by-step. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; the commends in this tutorial is for Linux/Mac OS, Windows will be slightly different when setting up environment variables and system path&lt;/p&gt;
&lt;h2&gt;Setup virtualenv&lt;/h2&gt;
&lt;h4&gt;1. Install pip&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo apt-get install python-pip&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;2. Install virtualenv&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo pip install virtualenv&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. Create a folder to install virtualenv&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Normally this folder would be created inside the project folder&lt;ul&gt;
&lt;li&gt;For example, inside the &lt;strong&gt;Projects&lt;/strong&gt; folder&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;It should be named as &lt;strong&gt;Envs&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;4. Install virtualenvwrapper&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo pip install virtualenvwrapper&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;This is a very useful tool/package to save you from the hassles of virtualenv&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;5. Set WORKON_HOME to your virtualenv&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export WORKON_HOME=~/Desktop/Projects/Env&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If the virtualenv folder is located at the root directory, use:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export WORKON_HOME=~/.Env&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;6. Add &lt;code&gt;virtualenvwrapper.sh&lt;/code&gt; to &lt;code&gt;.bashrc&lt;/code&gt; (&lt;strong&gt;NOTE&lt;/strong&gt; its &lt;code&gt;.zshrc&lt;/code&gt; on Mac)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Navigate to the folder where the virtualenv is installed (normally under /usr/local/bin)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nano ~/.bashrc&lt;/code&gt; (&lt;code&gt;nano ~/.zshrc&lt;/code&gt; on Mac)&lt;/li&gt;
&lt;li&gt;Add the following line to the folder:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;. /usr/local/bin/virtualenvwrapper.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If the virtualenvwrapper is installed in another directory, add the path of the directory instead of the &lt;code&gt;/usr/local/bin/&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;For example, &lt;code&gt;. /Users/Carson/anaconda3/bin/virtualenvwrapper.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CTRL + X&lt;/code&gt; to exit, and &lt;code&gt;Y&lt;/code&gt; to save, and hit &lt;code&gt;Enter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;After its being added, use &lt;code&gt;source ~/.bashrc&lt;/code&gt; (&lt;code&gt;source ~/.zshrc&lt;/code&gt; on Mac) to check if it is working. It should print some files on the screen with no errors&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Setup virtual environment&lt;/h2&gt;
&lt;h4&gt;1. make virtual environment&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mkvirtualenv env_name --python=python3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;check python version: &lt;code&gt;python -V&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;2. activate environment&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;the environment is activated by default when created&lt;/li&gt;
&lt;li&gt;to activate an environment: &lt;code&gt;workon env_name&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. get the project&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;navigate to the directory that you would like to download the project&lt;/li&gt;
&lt;li&gt;get the project: &lt;code&gt;git clone&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;From the directory you could tell which python version the project is under&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;4. get all the nesscary packages&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;enter the project directory and nevigate to where the requirement file is located&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pip install -r requirements.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;5. adding apps for the defaul path in virtualenv&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;sometimes when installing the packages errors may occor, since the apps are put inside the &lt;strong&gt;apps folder&lt;/strong&gt; which is not recognized by virtualenv&lt;/li&gt;
&lt;li&gt;add the &lt;strong&gt;apps folder&lt;/strong&gt;: &lt;code&gt;add2virtualenv apps&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;6. setup default startup folder for the environment&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;navigate to the folder where you work all the time&lt;/li&gt;
&lt;li&gt;setup the folder as default: &lt;code&gt;setvirtualenvproject&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;once the default folder is setup, use &lt;code&gt;cdproject&lt;/code&gt; to go back from anywhere&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;7. install dev tools:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;If the project has a different requirements file for the devs, navigate to that folder&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pip install -r /requirements/dev.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;8. remove environment&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rmvirtualenv env_name&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;9. tell django which setting files to run in environment:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;the goal of this step is for the django to use the customized settings in the &lt;code&gt;/project_name/settings/dev.py&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;go to the folder where the &lt;code&gt;manage.py&lt;/code&gt; locates&lt;/li&gt;
&lt;li&gt;copy the path generated: &lt;code&gt;pwd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;go to the virtual environment: &lt;code&gt;cdvirtualenv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd bin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;to enter and edit the file: &lt;code&gt;nano postactivate&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;put the following lines below the comments:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export DJANGO_SETTINGS_MODULE='project_name.settings.dev'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;export PYTHONPATH=$PYTHONPATH:'path_generated_by_pwd'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The first line allows you to use customized settings&lt;/li&gt;
&lt;li&gt;The second line allows you to &lt;code&gt;django-admin&lt;/code&gt; commands&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;close and save the file: &lt;code&gt;ctrl + x&lt;/code&gt;, type &lt;code&gt;y&lt;/code&gt; and press &lt;code&gt;enter&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;to enter and edit the file: &lt;code&gt;nano postdeactivate&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;put the following lines below the comments:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;unset DJANGO_SETTINGS_MODULE&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;deactivate and activate&lt;/strong&gt; the environment for the settings to work&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;10. start django project&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;if you have done step 9: &lt;code&gt;django-admin runserver&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;if you haven't done step 9: &lt;code&gt;python manage.py runserver&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;11. check the website in browser&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;localhost:8000&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;12. Force refresh the browser&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Sometimes when working with multiple projects and switching back and forth, the page display in browser can be scattered since there is cache built-in the browser&lt;/li&gt;
&lt;li&gt;to force refresh the browser: &lt;code&gt;ctrl + shift + r&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;13. Some useful virtualenv commands&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;lsvirtualenv&lt;/code&gt;&lt;/strong&gt;: List all of the environments.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cdsitepackages&lt;/code&gt;&lt;/strong&gt;: Navigate into the &lt;code&gt;site-package&lt;/code&gt; directory of the currently activated virtual environment&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;lssitepackages&lt;/code&gt;&lt;/strong&gt;: Shows contents of &lt;code&gt;site-package&lt;/code&gt; directory.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Python"></category><category term="Ubuntu"></category><category term="Linux"></category><category term="Virtualenv"></category><category term="setup"></category></entry><entry><title>How to create Sublime Text Project</title><link href="/how-to-create-sublime-text-project.html" rel="alternate"></link><published>2018-07-03T00:00:00-06:00</published><updated>2018-07-03T00:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-07-03:/how-to-create-sublime-text-project.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;Create a project folder to store all the sublime text project file &lt;ul&gt;
&lt;li&gt;Sublime Text Project file is a build file that must be saved somewhere on the disk. So a good way of doing this is to save the file into a folder something similar to &lt;strong&gt;Sublimetext Project&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Open up â€¦&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;Create a project folder to store all the sublime text project file &lt;ul&gt;
&lt;li&gt;Sublime Text Project file is a build file that must be saved somewhere on the disk. So a good way of doing this is to save the file into a folder something similar to &lt;strong&gt;Sublimetext Project&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Open up a new sublime text window with no other tabs opened.&lt;/li&gt;
&lt;li&gt;Drag the whole project folder into the folder panel&lt;/li&gt;
&lt;li&gt;Navigate to the site package folder:&lt;ul&gt;
&lt;li&gt;This folder is normally located at the &lt;code&gt;Envs\project_name\lib\python_version\site-packages&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Drag the entire &lt;strong&gt;site-packages&lt;/strong&gt; folder into the folder panel&lt;/li&gt;
&lt;li&gt;Now the folder panel should have two folders: the project folder and the corresponding &lt;strong&gt;site-packages&lt;/strong&gt; folder. Then you can save this as a project and save it to the &lt;strong&gt;Sublimetext Project&lt;/strong&gt; you just created&lt;/li&gt;
&lt;li&gt;After the sublimetext project is created, you can quickly switch among projects using shortcut &lt;code&gt;CTRL + ALT + P&lt;/code&gt;. If the shortcut doesn't work, check &lt;a href="https://forum.sublimetext.com/t/quick-switch-project-shortcut-doesnt-work-anymore/17261/2"&gt;&lt;strong&gt;HERE&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="Sublime Text"></category><category term="Environment Setup"></category></entry><entry><title>Install pdftk on unbuntu 18.04</title><link href="/install-pdftk-on-unbuntu-1804.html" rel="alternate"></link><published>2018-06-27T00:00:00-06:00</published><updated>2018-06-27T00:00:00-06:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-06-27:/install-pdftk-on-unbuntu-1804.html</id><summary type="html">&lt;p&gt;PDFTK is a very handy package that handles PDFs. It could open and write to existing PDFs, and a lot of other great things. However, it is missing from the Ubuntu 18 and is very tricky to install on Ubuntu 18 (but works nice and smoothly on Ubuntu 16). This â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;PDFTK is a very handy package that handles PDFs. It could open and write to existing PDFs, and a lot of other great things. However, it is missing from the Ubuntu 18 and is very tricky to install on Ubuntu 18 (but works nice and smoothly on Ubuntu 16). This tutorial is intended to save you some time/hair when you have to install PDFTK on ubuntu 18.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RUN &lt;code&gt;sudo apt-get update&lt;/code&gt; to update the current libs&lt;/li&gt;
&lt;li&gt;RUN &lt;code&gt;sudo apt-get install libcairo2 libpango-1.0-0 libpangocairo-1.0.0 libgdk-pixbuf2.0-0 libffi-dev libmagickwand-dev&lt;/code&gt; to install all the necessary packages&lt;/li&gt;
&lt;li&gt;RUN &lt;code&gt;locate sources.list&lt;/code&gt; to find the path for the &lt;em&gt;sources.list&lt;/em&gt; file&lt;ul&gt;
&lt;li&gt;It is &lt;em&gt;/etc/apt/sources.list&lt;/em&gt; on my machine&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RUN &lt;code&gt;sudo nano /etc/apt/sources.list&lt;/code&gt; to go into the file and edit it&lt;/li&gt;
&lt;li&gt;Add the following lines to the bottom of the file:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;restricted&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful-updates&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;restricted&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful&lt;/span&gt; &lt;span class="kp"&gt;universe&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful-updates&lt;/span&gt; &lt;span class="kp"&gt;universe&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful&lt;/span&gt; &lt;span class="kp"&gt;multiverse&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful-updates&lt;/span&gt; &lt;span class="kp"&gt;multiverse&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://no.archive.ubuntu.com/ubuntu/&lt;/span&gt; &lt;span class="kp"&gt;artful-backports&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;restricted&lt;/span&gt; &lt;span class="kp"&gt;universe&lt;/span&gt; &lt;span class="kp"&gt;multiverse&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://security.ubuntu.com/ubuntu&lt;/span&gt; &lt;span class="kp"&gt;artful-security&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;restricted&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://security.ubuntu.com/ubuntu&lt;/span&gt; &lt;span class="kp"&gt;artful-security&lt;/span&gt; &lt;span class="kp"&gt;universe&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://security.ubuntu.com/ubuntu&lt;/span&gt; &lt;span class="kp"&gt;artful-security&lt;/span&gt; &lt;span class="kp"&gt;multiverse&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Use &lt;code&gt;CTRL + x&lt;/code&gt; (and hit enter) to save and quit&lt;/li&gt;
&lt;li&gt;Update the system: &lt;code&gt;sudo apt update&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install related system packages in the folowing order:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo apt-get install libgcj-common&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo apt-get install libgcj17&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Install the pdftk package: &lt;code&gt;sudo apt-get install pdftk&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;After the pdftk package is installed, go back to the sources.list file (i.e step 4) and delete the lines we added in step 5&lt;/li&gt;
&lt;li&gt;Update system again (i.e. step 7)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Notes:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;PDFTK package is not supported in ubuntu 18 since it depends on a previous system package, and last version that supports this package was ubuntu 17.&lt;/li&gt;
&lt;li&gt;The above way of installation was to add some ubuntu 17 reference package information on the system source file on ubuntu 18, and then install the pdftk package. &lt;/li&gt;
&lt;li&gt;After the pdftk is installed, get rid of the information that was added to the system file so that the system update won't install older version of packages&lt;/li&gt;
&lt;li&gt;This instruction was based on the post &lt;a href="https://askubuntu.com/questions/1028522/how-can-i-install-pdftk-in-ubuntu-18-04-bionic"&gt;&lt;strong&gt;HERE&lt;/strong&gt;&lt;/a&gt;, and it is a combination of the answers from &lt;em&gt;Wikrle&lt;/em&gt; and &lt;em&gt;amha&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Python"></category><category term="PDF"></category><category term="pdftk"></category><category term="Ubuntu"></category></entry><entry><title>The ultimate guide to setup multiple Python environment with Anaconda and Sublime Text</title><link href="/the-ultimate-guide-to-setup-multiple-python-environment-with-anaconda-and-sublime-text.html" rel="alternate"></link><published>2018-02-11T00:00:00-07:00</published><updated>2018-02-11T00:00:00-07:00</updated><author><name>Carson Zhang</name></author><id>tag:None,2018-02-11:/the-ultimate-guide-to-setup-multiple-python-environment-with-anaconda-and-sublime-text.html</id><summary type="html">&lt;p&gt;The need for setting up a virtual executing environment of Python has a lot of advantages and has been widely discussed over internet. Here I have a tutorial for setting up multiple environment with Anaconda and Sublime Text.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The reason I choose Anaconda over Virtualenv is because Anaconda is widely â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;The need for setting up a virtual executing environment of Python has a lot of advantages and has been widely discussed over internet. Here I have a tutorial for setting up multiple environment with Anaconda and Sublime Text.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The reason I choose Anaconda over Virtualenv is because Anaconda is widely used in the industry, especially in the big data and machine learning field, and it covers most functions of Virtualenv.   &lt;/li&gt;
&lt;li&gt;I choose Sublime Text as my IDE because it is very simple yet powerful with many plugins. It is way faster and more efficient than many other IDES.  &lt;/li&gt;
&lt;li&gt;The installation of Anaconda will not be covered here as there are many tutorials online already.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The tutorial has the following steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#step-1-install-anaconda-3"&gt;&lt;a name="step1"&gt;&lt;/a&gt;Step 1: install Anaconda 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-2-setup-python-environment-with-anaconda-on-win-10"&gt;&lt;a name="step2"&gt;&lt;/a&gt;Step 2: setup python environment with Anaconda on Win 10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-3-setup-sublime-text-build-file-on-win-10"&gt;&lt;a name="step3"&gt;&lt;/a&gt;Step 3: setup Sublime Text build file on Win 10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-4-setup-python-environment-with-anaconda-on-mac"&gt;&lt;a name="step4"&gt;&lt;/a&gt;Step 4: setup python environment with Anaconda on Mac&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-5-setup-sublime-text-build-file-on-mac"&gt;&lt;a name="step5"&gt;&lt;/a&gt;Step 5: setup Sublime Text build file on Mac&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#summary-of-useful-conda-commands"&gt;&lt;a name="summary"&gt;&lt;/a&gt;Summary of useful conda commands&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a name="step1"&gt;&lt;/a&gt;Step 1: install Anaconda 3&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Install &lt;a href="https://www.anaconda.com/download/"&gt;&lt;strong&gt;Anaconda 3&lt;/strong&gt;&lt;/a&gt;. Choose the version that you use most frequently. &lt;ul&gt;
&lt;li&gt;For example, if you are working with python 3.6 most of the time, you should download the 3.6 version; otherwise, you can download the 2.7 version.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If you encounter any difficulties during installation, &lt;a href="www.google.com"&gt;google&lt;/a&gt; and &lt;a href="https://stackoverflow.com/"&gt;stackoverflow&lt;/a&gt; are your best friend:)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a name="step2"&gt;&lt;/a&gt;Step 2: setup python environment with Anaconda on Win 10&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Open &lt;strong&gt;Anaconda Prompt&lt;/strong&gt; to create new environment. Note that it is the Anaconda Prompt not the windows command line. &lt;br&gt;
&lt;img height="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_1.png"/&gt;&lt;/li&gt;
&lt;li&gt;When the Anaconda Prompt opens, it is in the default directory with many packages pre-installed. Now you can install the missing packages that you need using &lt;code&gt;conda install &amp;lt;package_name&amp;gt;&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;For instance, you can install multiple packages at the same time using &lt;code&gt;conda install Django flask tornado twisted&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If there are some packages that cannot be installed using &lt;code&gt;conda&lt;/code&gt; command, you can use &lt;code&gt;pip&lt;/code&gt; as described in the following steps.&lt;/li&gt;
&lt;li&gt;Once the packages are installed, you can create your own brand-new python 3.6 environment using &lt;code&gt;conda create -n py36 â€“clone base&lt;/code&gt; as the following picture indicates.&lt;ul&gt;
&lt;li&gt;Since it is a clone from the base, all the packages you installed can be used here. This will save a lot of time.   &lt;br&gt;
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_2.png"/&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NOTE&lt;/strong&gt; that you can also create the environment using &lt;code&gt;conda create -n &amp;lt;environment_name&amp;gt;&lt;/code&gt; first and then install all the necessary packages&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;activate py36&lt;/code&gt; to get into the environment you just created, and use pip to install the packages that cannot be installed with "conda". &lt;ul&gt;
&lt;li&gt;For example, wxpython can be install using pip command as follows (i.e. &lt;code&gt;pip install -U wxpython&lt;/code&gt;):
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_3.png"/&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You can use &lt;code&gt;python&lt;/code&gt; command to check the version of python and &lt;code&gt;quit()&lt;/code&gt; command to quit the python environment as follows:  &lt;br&gt;
&lt;img width="600" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_4.png"/&gt;&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;deactivate&lt;/code&gt; to quit current environment&lt;/li&gt;
&lt;li&gt;Now the python 3.6 environment is fully prepared, we can add the python 2.7 environment using &lt;code&gt;conda create -n py27 python=2.7&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Once the 2.7 environment is created, again you can use &lt;code&gt;activate py27&lt;/code&gt; to get into the environment and use &lt;code&gt;conda install &amp;lt;package_name&amp;gt;&lt;/code&gt; or &lt;code&gt;pip&lt;/code&gt; to install packages as instructed above.&lt;/li&gt;
&lt;li&gt;When inside your base/root directory, you can use &lt;code&gt;conda info --envs&lt;/code&gt; to check the current environments installed on your computer as follows:&lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_5.png"&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a name="step3"&gt;&lt;/a&gt;Step 3: setup Sublime Text build file on Win 10&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Navigate to the &lt;strong&gt;New Build System&lt;/strong&gt;   &lt;br&gt;
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_6.png"/&gt;&lt;/li&gt;
&lt;li&gt;Type the following JSON format code as follows. The path on the 4th line is the path to the python environment we created above.  &lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_7.png"&gt;
&lt;!-- &lt;img width="600" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_7.png"/&gt; --&gt;&lt;/li&gt;
&lt;li&gt;Save the file with an extension &lt;code&gt;.sublime-build&lt;/code&gt; into the default folder &lt;/li&gt;
&lt;li&gt;Repeat steps 1 to 3 to setup for the other python environment.&lt;/li&gt;
&lt;li&gt;Now you can see the files you just saved have appeared in the "Build System". &lt;ul&gt;
&lt;li&gt;For example, I named as &lt;code&gt;py27&lt;/code&gt; and &lt;code&gt;py36&lt;/code&gt; and they have appeared as shown in step 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Now you can check the versions of python by run different build using the following codes.&lt;br&gt;
Run with Py36:&lt;br&gt;
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_8.png"/&gt;&lt;br&gt;
Run with Py27:&lt;br&gt;
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_9.png"/&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; the anaconda path for Win 10 is usually &lt;code&gt;D:/Anaconda3/envs/&amp;lt;environemnt_name&amp;gt;/python&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a name="step4"&gt;&lt;/a&gt;Step 4: setup python environment with Anaconda on Mac&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Setting up python with Anaconda on Mac is pretty much the same as on Win 10, except that when you activate the environment, you have to use command "source activate" rather than "activate".  &lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_11.png"&gt;&lt;/li&gt;
&lt;li&gt;For package installation, it is identical to the steps for Win 10 described above. You can simply follow the steps in &lt;a href="#step2"&gt;Step 2&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a name="step5"&gt;&lt;/a&gt;Step 5: setup Sublime Text build file on Mac&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Navigate to the "New Build System"  &lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_10.png"&gt;&lt;/li&gt;
&lt;li&gt;Find the Anaconda path of python environment. The following steps explains how to do it:&lt;ol&gt;
&lt;li&gt;Open a terminal, and activate the environment you would like to set up.&lt;ul&gt;
&lt;li&gt;For example, &lt;code&gt;source activate py27&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Use command &lt;code&gt;which python&lt;/code&gt; to find out the path&lt;/li&gt;
&lt;li&gt;Don't close the terminal and remember the path. The above two steps canbe seen as follows:  &lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_12.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Use the path find above and type the following code as follows:  &lt;br&gt;
&lt;img width="500" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_13.PNG"/&gt;&lt;/li&gt;
&lt;li&gt;Save it to the default location with the &lt;code&gt;.sublime-build&lt;/code&gt; extension. &lt;/li&gt;
&lt;li&gt;You can repeat steps 1 to 4 for other environment you have created.&lt;/li&gt;
&lt;li&gt;To double check, run the following command and see the results:  &lt;br&gt;
&lt;img alt="Alt text" src="https://github.com/zmcddn/Blog_Images/raw/master/tutorials/20180211/20180211_14.png"&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; the anaconda path for Mac is usually &lt;code&gt;/Users/&amp;lt;user_name&amp;gt;/anaconda3/envs/&amp;lt;environemnt_name&amp;gt;/bin/python&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a name="summary"&gt;&lt;/a&gt;Summary of useful conda commands&lt;/h2&gt;
&lt;hr&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commands&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;conda list&lt;/td&gt;
&lt;td&gt;list all the packages installed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;conda info --envs&lt;/td&gt;
&lt;td&gt;list all the environment created&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;conda create -n *environment_name&lt;/td&gt;
&lt;td&gt;create an environment&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;conda create --name *name1 --clone *name2&lt;/td&gt;
&lt;td&gt;create a new environment (name1) to be a clone of another (name2) one&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;conda install *package1 *package2&lt;/td&gt;
&lt;td&gt;install multipe packages at the same time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;conda install *package = version&lt;/td&gt;
&lt;td&gt;install a package with a particular version&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;For more environment management commands, you can find them &lt;a href="https://conda.io/docs/user-guide/tasks/manage-environments.html"&gt;&lt;strong&gt;HERE&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Python"></category><category term="Anaconda"></category><category term="Sublime Text"></category><category term="Environment Setup"></category></entry></feed>