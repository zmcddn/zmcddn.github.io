<!DOCTYPE html>
<html lang="en">
<head>
  <title>Setup Virtualenv for Any Project</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson's Tech Hut Full Atom Feed" />
  <link href="/feeds/python-environment.atom.xml" type="application/atom+xml" rel="alternate" title="Carson's Tech Hut Categories Atom Feed" />

  <script>
  /* Javascript code to toggle between adding and removing the
  "responsive" class to nav when the user clicks on the icon */
  function myFunction() {
    var x = document.getElementById("nav-bar");
    if (x.className === "nav") {
      x.className += " responsive";
    } else {
      x.className = "nav";
    }
  }
  </script>

</head>

<body>
  <div class="navigation pure-menu pure-menu-horizontal">
    <div class="nav", id="nav-bar">
      <a href="/" class="page-container pure-menu-heading  pure-menu-link nav">Carson's Tech Hut</a>
      <ul class="pure-menu-list">
          <li class="pure-menu-item"><a href="../archives.html" class="pure-menu-link">All posts</a></li>
          <li class="pure-menu-item"><a href="../categories.html" class="pure-menu-link">Categories</a></li>
          <li class="pure-menu-item"><a href="../tags.html" class="pure-menu-link">Tags</a></li>
      </ul>
      <a href="javascript:void(0);" class="icon pure-menu-link" onclick="myFunction()">
        <i class="fas fa-bars"></i>
      </a>
    </div>
  </div>

<div class="page-container">
    <div class="entry-content">
      <div class="post-meta pure-u">
          <div class="pure-u">
              <img src="../theme/images/authors/timg.jpg" class="post-avatar" alt="Go to the profile of Carson Zhang">
          </div>
          <div class="pure-u meta-data">
              <a href="/author/carson-zhang.html" class="category">Carson Zhang</a><br />
              
            Senior Software Developer
        <br />
              <abbr title="2018-07-04T00:00:00-06:00">Wed 04 July 2018</abbr>
              â€¢ 8 min read
          </div>
      </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>Setup Virtualenv for Any Project</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <!--
        <div align="right">
          Author:<br>
              <a href="/author/carson-zhang.html">Carson Zhang</a><br>
        </div>
        -->

        <ul>
<li>Virtualenv is a very handy tool for creating separate virtual environments for python projects.</li>
<li>It is essential and probably mandatory in many cases to use Virtualenv or Virtualenv-like tools (i.e. Anaconda, Pipenv) to run a python project.</li>
<li>In this tutorial, I'll show you how to create a virtualenv for a python project step-by-step. </li>
</ul>
<p><strong>NOTE:</strong> the commends in this tutorial is for Linux/Mac OS, Windows will be slightly different when setting up environment variables and system path</p>
<h2>Setup virtualenv</h2>
<h4>1. Install pip</h4>
<ul>
<li><code>sudo apt-get install python-pip</code></li>
</ul>
<h4>2. Install virtualenv</h4>
<ul>
<li><code>sudo pip install virtualenv</code></li>
</ul>
<h4>3. Create a folder to install virtualenv</h4>
<ul>
<li>Normally this folder would be created inside the project folder<ul>
<li>For example, inside the <strong>Projects</strong> folder</li>
</ul>
</li>
<li>It should be named as <strong>Envs</strong></li>
</ul>
<h4>4. Install virtualenvwrapper</h4>
<ul>
<li><code>sudo pip install virtualenvwrapper</code></li>
<li>This is a very useful tool/package to save you from the hassles of virtualenv</li>
</ul>
<h4>5. Set WORKON_HOME to your virtualenv</h4>
<ul>
<li><code>export WORKON_HOME=~/Desktop/Projects/Env</code></li>
<li>If the virtualenv folder is located at the root directory, use:<ul>
<li><code>export WORKON_HOME=~/.Env</code></li>
</ul>
</li>
</ul>
<h4>6. Add <code>virtualenvwrapper.sh</code> to <code>.bashrc</code> (<strong>NOTE</strong> its <code>.zshrc</code> on Mac)</h4>
<ul>
<li>Navigate to the folder where the virtualenv is installed (normally under /usr/local/bin)</li>
<li><code>nano ~/.bashrc</code> (<code>nano ~/.zshrc</code> on Mac)</li>
<li>Add the following line to the folder:<ul>
<li><code>. /usr/local/bin/virtualenvwrapper.sh</code></li>
</ul>
</li>
<li>If the virtualenvwrapper is installed in another directory, add the path of the directory instead of the <code>/usr/local/bin/</code><ul>
<li>For example, <code>. /Users/Carson/anaconda3/bin/virtualenvwrapper.sh</code></li>
</ul>
</li>
<li><code>CTRL + X</code> to exit, and <code>Y</code> to save, and hit <code>Enter</code></li>
<li>After its being added, use <code>source ~/.bashrc</code> (<code>source ~/.zshrc</code> on Mac) to check if it is working. It should print some files on the screen with no errors</li>
</ul>
<hr>
<h2>Setup virtual environment</h2>
<h4>1. make virtual environment</h4>
<ul>
<li><code>mkvirtualenv env_name --python=python3</code></li>
<li>check python version: <code>python -V</code></li>
</ul>
<h4>2. activate environment</h4>
<ul>
<li>the environment is activated by default when created</li>
<li>to activate an environment: <code>workon env_name</code></li>
</ul>
<h4>3. get the project</h4>
<ul>
<li>navigate to the directory that you would like to download the project</li>
<li>get the project: <code>git clone</code> </li>
<li>From the directory you could tell which python version the project is under</li>
</ul>
<h4>4. get all the nesscary packages</h4>
<ul>
<li>enter the project directory and nevigate to where the requirement file is located</li>
<li><code>pip install -r requirements.txt</code></li>
</ul>
<h4>5. adding apps for the defaul path in virtualenv</h4>
<ul>
<li>sometimes when installing the packages errors may occor, since the apps are put inside the <strong>apps folder</strong> which is not recognized by virtualenv</li>
<li>add the <strong>apps folder</strong>: <code>add2virtualenv apps</code></li>
</ul>
<h4>6. setup default startup folder for the environment</h4>
<ul>
<li>navigate to the folder where you work all the time</li>
<li>setup the folder as default: <code>setvirtualenvproject</code></li>
<li>once the default folder is setup, use <code>cdproject</code> to go back from anywhere</li>
</ul>
<h4>7. install dev tools:</h4>
<ul>
<li>If the project has a different requirements file for the devs, navigate to that folder</li>
<li><code>pip install -r /requirements/dev.txt</code></li>
</ul>
<h4>8. remove environment</h4>
<ul>
<li><code>rmvirtualenv env_name</code></li>
</ul>
<h4>9. tell django which setting files to run in environment:</h4>
<ul>
<li>the goal of this step is for the django to use the customized settings in the <code>/project_name/settings/dev.py</code></li>
<li>go to the folder where the <code>manage.py</code> locates</li>
<li>copy the path generated: <code>pwd</code></li>
<li>go to the virtual environment: <code>cdvirtualenv</code></li>
<li><code>cd bin</code></li>
<li>to enter and edit the file: <code>nano postactivate</code><ul>
<li>put the following lines below the comments:<ul>
<li><code>export DJANGO_SETTINGS_MODULE='project_name.settings.dev'</code></li>
<li><code>export PYTHONPATH=$PYTHONPATH:'path_generated_by_pwd'</code></li>
<li>The first line allows you to use customized settings</li>
<li>The second line allows you to <code>django-admin</code> commands</li>
</ul>
</li>
<li>close and save the file: <code>ctrl + x</code>, type <code>y</code> and press <code>enter</code></li>
</ul>
</li>
<li>to enter and edit the file: <code>nano postdeactivate</code><ul>
<li>put the following lines below the comments:<ul>
<li><code>unset DJANGO_SETTINGS_MODULE</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>deactivate and activate</strong> the environment for the settings to work</li>
</ul>
<h4>10. start django project</h4>
<ul>
<li>if you have done step 9: <code>django-admin runserver</code></li>
<li>if you haven't done step 9: <code>python manage.py runserver</code></li>
</ul>
<h4>11. check the website in browser</h4>
<ul>
<li><code>localhost:8000</code></li>
</ul>
<h4>12. Force refresh the browser</h4>
<ul>
<li>Sometimes when working with multiple projects and switching back and forth, the page display in browser can be scattered since there is cache built-in the browser</li>
<li>to force refresh the browser: <code>ctrl + shift + r</code></li>
</ul>
<h4>13. Some useful virtualenv commands</h4>
<ul>
<li><strong><code>lsvirtualenv</code></strong>: List all of the environments.</li>
<li><strong><code>cdsitepackages</code></strong>: Navigate into the <code>site-package</code> directory of the currently activated virtual environment</li>
<li><strong><code>lssitepackages</code></strong>: Shows contents of <code>site-package</code> directory.</li>
</ul>
    </div>

    <footer>
        <div class="tags">
            <a href="/tag/python.html">Python</a>
            <a href="/tag/ubuntu.html">Ubuntu</a>
            <a href="/tag/linux.html">Linux</a>
            <a href="/tag/virtualenv.html">Virtualenv</a>
            <a href="/tag/setup.html">setup</a>
        </div>
        <div class="pure-g post-footer">
            <div class="pure-g">
                <div class="pure-g poster-info">
                    <div class="pure-u">
                        <a href="/author/carson-zhang.html"><img src="../theme/images/authors/timg.jpg" alt=""></a>
                    </div>
                    <div class="pure-u">
                        <h3 class="author-name"><a href="/author/carson-zhang.html">Carson Zhang</a></h3>
                        <p class="author-description">
                          
            I'm a senior software developer, passionated with artificial intellgence and
            web development.
        
                        </p>
                    </div>
                </div>
            </div>


            <!--
            -->

        </div>


    </footer>


</div>


  <footer class="index-footer">
    <div class="footer-wide">
      <p><a href="">Carson's Tech Hut</a>&copy; Carson Zhang 2020</p>
    </div>
    <div class="footer-narrow">
      <p><a href="">Carson's Tech Hut</a><br>
      &copy; Carson Zhang 2020</p>
    </div>
  </footer>


  <link rel="stylesheet" href="../theme/css/pure-min.css" />
  <link rel="stylesheet" href="../theme/css/grids-responsive-min.css" />
  <link rel="stylesheet" href="../theme/fontawesome-free-5.13.0-web/css/all.min.css" />
  <link rel="stylesheet" href="/theme/css/main.css" />
</body>


</html>